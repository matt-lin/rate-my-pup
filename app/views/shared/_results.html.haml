%div{:class=>"container"}
  %h3 Average Ratings for #{query}:

  / %table#avg_ratings
  /   %thead
  /   %tr
  /     %th="Breeder Responsibility" if @avg_ratings[:breeder_responsibility]
  /     %th Overall Health
  /     %th Trainability
  /     %th Social Behavior
  /     %th Energy Level
  /     %th Simpatico Rating
  /   %tbody
  /     %tr
  /       %td= @avg_ratings[:breeder_responsibility].round(2) if @avg_ratings[:breeder_responsibility
  %div{:class=>"row"}
    %div{:class=>"col-sm-10"}
      - if @avg_ratings[:breeder_responsibility]
        = render 'shared/avg_rating', rating: @avg_ratings[:breeder_responsibility].round(2), width: @avg_ratings[:breeder_responsibility].round(2) * 20, title: "BREEDER RESPONSIBILITY", color: 'progress-bar-success'
      = render 'shared/avg_rating', rating: @avg_ratings[:overall_health].round(2),  width: @avg_ratings[:overall_health].round(2) * 20, title: 'PUP HEALTH', color: 'progress-bar'
      = render 'shared/avg_rating', rating: @avg_ratings[:trainability].round(2), width: @avg_ratings[:trainability].round(2) * 20, title: 'TRAINABILITY', color: 'progress-bar'
      = render 'shared/avg_rating', rating: @avg_ratings[:social_behavior].round(2), width: @avg_ratings[:social_behavior].round(2) * 20, title: 'SOCIAL BEHAVIOR', color: 'progress-bar'
      = render 'shared/avg_rating', rating: @avg_ratings[:energy_level].round(2), width: @avg_ratings[:energy_level].round(2) * 20, title: 'ENERGY LEVEL', color: 'progress-bar'
      = render 'shared/avg_rating', rating: @avg_ratings[:simpatico_rating].round(2), width: @avg_ratings[:simpatico_rating].round(2) * 20, title: 'SIMPATICO RATING', color: 'progress-bar'
  %h3 There are #{@pups.length} ratings for #{query}:
  - @pups.each do |pup|
    = render 'shared/comment', pup: pup, responsibility: pup.breeder_responsibility * 20, health: pup.overall_health * 20, train: pup.trainability * 20, social: pup.social_behavior * 20, simpatico: pup.simpatico_rating * 20, energy: pup.energy_level * 20

